# FocusTimer (专注计时器)

一个基于 Tauri + React + TypeScript + Rust 开发的桌面专注计时应用。

## 功能特性

### 🎯 任务管理
- **任务组管理**: 创建、编辑、删除任务组（如"英语学习"、"工作项目"等）
- **任务管理**: 在任务组内创建、编辑、删除具体任务
- **灵活计时**: 支持预设时间（25分钟、30分钟、45分钟、1小时）和自定义时间
- **正向计时**: 支持无限制的正向计时模式

### ⏰ 计时功能
- **倒计时模式**: 设置固定时间，倒计时到零
- **正向计时模式**: 无限制计时，记录实际用时
- **实时显示**: 大字体显示当前时间
- **进度条**: 倒计时模式下显示完成进度
- **控制功能**: 暂停、继续、停止、重置

### 📊 统计报告
- **多周期统计**: 今天、本周、近15天、本月、自定义时间范围
- **多维度分析**: 按任务统计或按任务组统计
- **详细指标**: 总时长、会话数、完成率等
- **可视化展示**: 进度条显示完成率

## 技术栈

- **前端**: React 19 + TypeScript + Vite
- **后端**: Rust + Tauri 2
- **数据库**: SQLite + SQLx
- **UI组件**: Lucide React 图标
- **日期处理**: date-fns

## 开发环境要求

- Node.js 18+
- Rust 1.70+
- Tauri CLI 2.0+

## 安装和运行

1. 安装依赖：
```bash
npm install
```

2. 开发模式运行：
```bash
npm run tauri dev
```

3. 构建生产版本：
```bash
npm run tauri build
```

## 使用说明

### 1. 创建任务组
- 点击"新建任务组"按钮
- 输入任务组名称和描述
- 例如：创建"英语学习"任务组

### 2. 添加任务
- 选择任务组
- 点击"新建任务"按钮
- 设置任务名称、描述和计时方式：
  - **预设时间**: 选择25分钟、30分钟、45分钟或1小时
  - **自定义时间**: 输入任意分钟数
  - **正向计时**: 无时间限制，记录实际用时

### 3. 开始计时
- 在任务列表中点击"开始"按钮
- 自动切换到计时器界面
- 使用控制按钮管理计时过程

### 4. 查看统计
- 切换到"统计报告"标签
- 选择统计周期（今天、本周、近15天、本月或自定义）
- 选择统计方式（按任务或按任务组）
- 查看详细的学习/工作时间统计

## 数据库结构

应用使用 SQLite 数据库存储数据，包含以下表：

- `task_groups`: 任务组信息
- `tasks`: 任务信息
- `task_sessions`: 计时会话记录

## 项目结构

```
src-tauri/
├── src/
│   ├── main.rs          # 应用入口
│   ├── lib.rs           # Tauri 命令和配置
│   ├── models.rs        # 数据模型定义
│   └── database.rs      # 数据库操作
src/
├── components/          # React 组件
│   ├── TaskGroupManager.tsx
│   ├── TaskManager.tsx
│   ├── Timer.tsx
│   └── Statistics.tsx
├── services/
│   └── api.ts          # API 服务
├── utils/
│   └── helpers.ts      # 工具函数
├── types.ts            # TypeScript 类型定义
└── App.tsx             # 主应用组件
```

## 特色功能

- **现代化 UI**: 简洁美观的界面设计
- **响应式布局**: 适配不同屏幕尺寸
- **实时同步**: 前后端数据实时同步
- **数据持久化**: 本地 SQLite 数据库存储
- **跨平台**: 支持 Windows、macOS、Linux

## 开发说明

- 使用 Tauri 2.0 最新版本
- 支持热重载开发
- TypeScript 严格模式
- Rust 异步编程
- SQLx 类型安全数据库操作

## 许可证

MIT License